# 카프카란 무엇인가?
> 카프카란 대용량, 대규모 메시지 데이터를 빠르게 처리가능한 메시징 플랫폼

## 1.1 탄생 배경

### 링크드인 서비스(전)
- `End to End` 아키텍쳐 (before)

- 장점
    - 메시지 전달 속도 빠르다.

- 단점
    1. 실시간 트랜잭션(OLTP), 비동기 처리 관리 어려움
        - 통합된 전송 영역이 없어 복잡도가 증가할 수밖에 없다.
    2. 데이터 파이프라인 관리 어려움
        - 다양한 데이터 시스템(실시간 트랜잭션 데이터베이스, 하둡, 모니터링 시스템 등)끼리의 연결을 해주는 파이프라인 부재
        - 각 데이터 시스템별 파이프라인 따로, 여기서 사용하는 데이터 포맷 따로
        - 이로 인한 복잡성으로 데이터 consistency 깨짐

    3. 높은 장애 발생률 
        - 특정 개체에 장애가 발생한 경우 메시지를 보내는 쪽에서 대기 처리 등을 개별적으로 해주지 않으면 장애 발생할 수 있다.
        - 또한 통신 오류 발생시, 데이터 분실 위험도가 존재
        - 
    4. 낮은 확장성
        - 통신에 참여하는 개체가 많아질수록 서로 일일이 다 연결, 데이터 전송 해주어야 한다.


### 탄생 목표
- Producer, Consumer의 분리
- Messaging System과 같이 영구 메시지 데이터가능
    - 디스크에 메시지를 저장
- 메시지 데이터를 여러 Consumer에게 허용
- 높은 Throughtput을 위한 메시지 최적화
- 스케일 아웃

### 링크드인 서비스(후)
짜잔


## 1.2 카프카 동작 방식과 원리
- `End to End`
- `pub/sub` 네트워크 통신
    - Async
    - 생산자/소비자 패턴

    - exchanger 부하
    - 각 consumer 들의 Queue 관리
    - Queue에 의한 message consistency문제
    - 복잡한 내부 프로세스로 인한 
- `Kafka`
    - `비동기 메시지 큐 솔루션`
    - 메시지 교환 전달의 신뢰성 관리는 pub/sub로 넘김
    - 부하가 많이 걸리는 exchanger는 Consumer가 만들도록
    - 작업량이 줄어든 카프카 브레이커에 메시징 전달 성능을 집중시켜 고성능 Throughput


## 1.3 카프카의 특징
> 기존의 RabbitMQ같은 비동기 메시지 큐 솔루션와의 차이점
- 공통점
    - 비동기
    - 큐
    

